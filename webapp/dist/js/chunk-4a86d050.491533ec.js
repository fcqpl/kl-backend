(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4a86d050"],{"536d":function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container"},[n("TeacherNavbar"),t._m(0),n("div",{staticClass:"row"},[n("div",{staticClass:"col-md-12"},[n("AddStudentForm",{on:{submittedStudent:t.onSubmittedStudent}})],1)]),n("div",{staticClass:"row"},[n("div",{staticClass:"col-md-12"},[n("StudentList",{attrs:{students:t.students},on:{updatedStudent:t.onUpdatedStudent}})],1)])],1)},a=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"row"},[n("div",{staticClass:"col-md-12 my-3"},[n("h2",[t._v("Studenci grupa")])])])}],s=(n("b0c0"),n("96cf"),n("1da1")),u=n("d722"),o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("table",{staticClass:"table table-striped"},[t._m(0),n("tbody",t._l(t.students,(function(e,r){return n("tr",{key:e.id},[n("th",{attrs:{scope:"row"}},[t._v(t._s(r+1))]),n("td",[t._v(t._s(e.display_name))]),n("td",[t._v(t._s(e.access_url))]),n("button",{staticClass:"btn btn-primary m-2",attrs:{type:"button"},on:{click:function(n){return t.actionAccessLink(n,e)}}},[t._v("Resetuj Dostęp")]),n("button",{staticClass:"btn btn-danger m-2",attrs:{type:"button"},on:{click:function(n){return t.actionRemoveStudent(n,e)}}},[t._v("Usuń")])])})),0)])},c=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("thead",[n("tr",[n("th",{attrs:{scope:"col"}},[t._v("#")]),n("th",{attrs:{scope:"col"}},[t._v("Nazwa")]),n("th",{attrs:{scope:"col"}},[t._v("Link Dostępowy")]),n("th",{attrs:{scope:"col"}},[t._v("Akcja")])])])}],i={name:"StudentList",props:{students:{type:Array}},methods:{actionAccessLink:function(t,e){var n=this;return Object(s["a"])(regeneratorRuntime.mark((function r(){var a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return t.stopPropagation(),r.next=3,u["b"].resetAccess(e);case 3:a=r.sent,n.$emit("updatedStudent",a);case 5:case"end":return r.stop()}}),r)})))()},actionRemoveStudent:function(t,e){var n=this;return Object(s["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return t.stopPropagation(),r.next=3,u["b"].delete(e.id);case 3:n.$emit("updatedStudent",e);case 4:case"end":return r.stop()}}),r)})))()}}},d=i,l=n("2877"),m=Object(l["a"])(d,o,c,!1,null,"6e9701c2",null),p=m.exports,f=n("f1e4"),v=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("form",{on:{submit:t.studentSubmitted}},[n("div",{staticClass:"form-row"},[n("div",{staticClass:"col-4"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Imie, nazwisko"},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}})]),n("div",{staticClass:"col-auto"},[n("button",{staticClass:"btn btn-primary mb-2",attrs:{type:"submit",disabled:!t.formValid}},[t._v("Dodaj")])])])])},b=[],h={name:"AddStudentForm",data:function(){return{name:""}},computed:{formValid:function(){return this.name}},methods:{studentSubmitted:function(){var t={name:this.name};this.$emit("submittedStudent",t),this.name="",console.log("Student Submitted",t)}}},w=h,S=Object(l["a"])(w,v,b,!1,null,"b88ea916",null),g=S.exports,_={name:"app",components:{AddStudentForm:g,TeacherNavbar:f["a"],StudentList:p},data:function(){return{students:[]}},computed:{groupId:function(){return this.$route.params.id}},mounted:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.loadStudents();case 2:case"end":return e.stop()}}),e)})))()},methods:{loadStudents:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,u["b"].list({group:t.groupId});case 2:t.students=e.sent,window.console.log("Students Fetched",t.groups);case 4:case"end":return e.stop()}}),e)})))()},onUpdatedStudent:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.loadStudents();case 2:t.$toasted.show("Sukces!",{duration:3e3,type:"success"});case 3:case"end":return e.stop()}}),e)})))()},onSubmittedStudent:function(t){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,u["b"].create({display_name:t.name,group:e.groupId});case 2:return n.next=4,e.loadStudents();case 4:e.$toasted.show("Dodano!",{duration:3e3,type:"success"});case 5:case"end":return n.stop()}}),n)})))()}}},k=_,x=Object(l["a"])(k,r,a,!1,null,null,null);e["default"]=x.exports},b0c0:function(t,e,n){var r=n("83ab"),a=n("9bf2").f,s=Function.prototype,u=s.toString,o=/^\s*function ([^ (]*)/,c="name";r&&!(c in s)&&a(s,c,{configurable:!0,get:function(){try{return u.call(this).match(o)[1]}catch(t){return""}}})}}]);
//# sourceMappingURL=chunk-4a86d050.491533ec.js.map